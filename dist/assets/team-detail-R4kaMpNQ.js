import{p as k,r as h,u as C,j as e,D as y,T as i,B as u,H as D}from"./index-CiyAc5l9.js";import{C as F}from"./config-global-ClKwKbZP.js";import{u as L}from"./index.esm-CKNsy_kw.js";import{c as I,d as S}from"./use-team-CrauW6BN.js";import{p as G,h as N}from"./object-util-B_4fPfHZ.js";import{C as P,G as r}from"./Grid-DiL9jkRp.js";import{T as p}from"./TextField-DAHlXdg2.js";import{L as v}from"./LoadingButton-cyYOQG9v.js";import"./use-api-CDdvI0gq.js";function w(){const a=k(),l=h.useMemo(()=>parseInt((a==null?void 0:a.id)??"0",10),[a]),{enqueueSnackbar:x}=C(),{handleSubmit:j,register:o,formState:g,reset:m}=L(),{isLoading:n,teamDetail:t,onFetchTeamDetail:c}=I(l),{onUpdateTeam:d}=S(),f=h.useCallback(async s=>{const b=G(s,["name"]);if(N(b)){x("Tên không được để trống",{variant:"warning"});return}const T={name:s.name??"",hotline:s.hotline};await d(l,T),c(),m()},[d,c,m]);return e.jsxs(y,{children:[n&&e.jsx(i,{children:"...loading"}),!n&&!t&&e.jsx(i,{color:"red",children:"Không có thông tin!"}),!n&&t&&e.jsxs(e.Fragment,{children:[e.jsx(u,{display:"flex",alignItems:"center",mb:5,children:e.jsx(i,{variant:"h4",flexGrow:1,children:t.name})}),e.jsx(P,{children:e.jsxs(u,{p:{xs:2,sm:4},children:[e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:12,md:4,xl:3,children:e.jsx(p,{...o("name"),defaultValue:t.name,required:!0,label:"Tên phòng ban",placeholder:"Nhập tên",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})}),e.jsx(r,{item:!0,xs:12,md:4,xl:3,children:e.jsx(p,{...o("hotline"),defaultValue:t.hotline,label:"Hotline",placeholder:"Nhập hotline",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})})]}),e.jsx(r,{container:!0,spacing:2,mt:{xs:1,md:2},children:e.jsx(r,{item:!0,xs:12,md:4,xl:3,children:e.jsx(v,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",disabled:!g.isDirty,onClick:j(f),children:"Lưu"})})})]})})]})," "]})}function K(){return e.jsxs(e.Fragment,{children:[e.jsx(D,{children:e.jsxs("title",{children:[" ",`Chi tiết phòng ban - ${F.appName}`]})}),e.jsx(w,{})]})}export{K as default};
