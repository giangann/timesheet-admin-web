import{N as C,r as x,j as e,K as L,n as d,B as m,L as I}from"./index-CEyLd9DX.js";import{C as P}from"./config-global-ClKwKbZP.js";import{u as U,L as k}from"./index.esm-CKcIAF75.js";import{a as N,b as W,C as v,G as s}from"./use-user-Dz0DDQKT.js";import{T as i}from"./TextField-CBDx6OsB.js";import"./use-api-Cnad1Fgw.js";function p(r,a){return r===!0||Array.isArray(r)?a:Object.fromEntries(Object.keys(r).map(l=>[l,p(r[l],a[l])]))}function y(){const r=C(),a=x.useMemo(()=>parseInt((r==null?void 0:r.id)??"0",10),[r]),{isLoading:l,userDetail:t,onFetchUserDetail:h}=N(a),{onUpdateUser:u}=W(),{handleSubmit:j,register:n,formState:o,reset:c}=U(),b=x.useCallback(async f=>{const g=p(o.dirtyFields,f);await u(a,g),h(),c()},[u,h,a,o,c]);return console.log({userDetail:t}),e.jsxs(L,{children:[l&&e.jsx(d,{children:"...loading"}),!l&&!t&&e.jsx(d,{color:"red",children:"Không có thông tin!"}),!l&&t&&e.jsxs(e.Fragment,{children:[e.jsx(m,{display:"flex",alignItems:"center",mb:5,children:e.jsx(d,{variant:"h4",flexGrow:1,children:t.name})}),e.jsx(v,{children:e.jsxs(m,{p:{xs:2,sm:4},children:[e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(i,{...n("name"),defaultValue:t.name,label:"Tên",placeholder:"Nhập tên",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})}),e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(i,{...n("email"),defaultValue:t.email,label:"Email",placeholder:"Nhập email",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})}),e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(i,{...n("address"),defaultValue:t.address,label:"Địa chỉ",placeholder:"Nhập địa chỉ",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})}),e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(i,{...n("phone"),defaultValue:t.phone,label:"Số điện thoại",placeholder:"Nhập số điện thoại",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})}),e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(i,{...n("team.id"),fullWidth:!0,label:"Phòng ban",placeholder:"Chọn phòng ban",InputLabelProps:{shrink:!0},sx:{mb:3}})}),e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(i,{...n("roleCode"),fullWidth:!0,label:"Chức vụ",placeholder:"Chọn chức vụ",InputLabelProps:{shrink:!0},sx:{mb:3}})})]}),e.jsx(s,{container:!0,spacing:2,children:e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(k,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",disabled:!o.isDirty,onClick:j(b),children:"Lưu"})})})]})})]})]})}function T(){return e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsxs("title",{children:[" ",`Chi tiết nhân viên - ${P.appName}`]})}),e.jsx(y,{})]})}export{T as default};
