import{g as N,a as z,s as R,R as K,r as p,u as B,b as E,_ as g,j as b,c as P,d as V,q,U as Z,V as w,W as k,H as j}from"./index-posuPE9P.js";import{u as L}from"./use-api-CTRGMTk2.js";const H={size:100,page:0};function J(e,s,n){const t=new Map;return e.forEach(r=>{const o=String(r[s]),i=n instanceof Function?n(r):r;t.set(o,i)}),t}function Q(e){return N("MuiCard",e)}z("MuiCard",["root"]);const X=["className","raised"],Y=e=>{const{classes:s}=e;return V({root:["root"]},Q,s)},ee=R(K,{name:"MuiCard",slot:"Root",overridesResolver:(e,s)=>s.root})(()=>({overflow:"hidden"})),he=p.forwardRef(function(s,n){const t=B({props:s,name:"MuiCard"}),{className:r,raised:o=!1}=t,i=E(t,X),a=g({},t,{raised:o}),u=Y(a);return b.jsx(ee,g({className:P(u.root,r),elevation:o?8:void 0,ref:n,ownerState:a},i))}),W=p.createContext();function se(e){return N("MuiGrid",e)}const re=[0,1,2,3,4,5,6,7,8,9,10],te=["column-reverse","column","row-reverse","row"],ne=["nowrap","wrap-reverse","wrap"],h=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],S=z("MuiGrid",["root","container","item","zeroMinWidth",...re.map(e=>`spacing-xs-${e}`),...te.map(e=>`direction-xs-${e}`),...ne.map(e=>`wrap-xs-${e}`),...h.map(e=>`grid-xs-${e}`),...h.map(e=>`grid-sm-${e}`),...h.map(e=>`grid-md-${e}`),...h.map(e=>`grid-lg-${e}`),...h.map(e=>`grid-xl-${e}`)]),oe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function x(e){const s=parseFloat(e);return`${s}${String(e).replace(String(s),"")||"px"}`}function ae({theme:e,ownerState:s}){let n;return e.breakpoints.keys.reduce((t,r)=>{let o={};if(s[r]&&(n=s[r]),!n)return t;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const i=w({values:s.columns,breakpoints:e.breakpoints.values}),a=typeof i=="object"?i[r]:i;if(a==null)return t;const u=`${Math.round(n/a*1e8)/1e6}%`;let l={};if(s.container&&s.item&&s.columnSpacing!==0){const c=e.spacing(s.columnSpacing);if(c!=="0px"){const d=`calc(${u} + ${x(c)})`;l={flexBasis:d,maxWidth:d}}}o=g({flexBasis:u,flexGrow:0,maxWidth:u},l)}return e.breakpoints.values[r]===0?Object.assign(t,o):t[e.breakpoints.up(r)]=o,t},{})}function ie({theme:e,ownerState:s}){const n=w({values:s.direction,breakpoints:e.breakpoints.values});return k({theme:e},n,t=>{const r={flexDirection:t};return t.indexOf("column")===0&&(r[`& > .${S.item}`]={maxWidth:"none"}),r})}function _({breakpoints:e,values:s}){let n="";Object.keys(s).forEach(r=>{n===""&&s[r]!==0&&(n=r)});const t=Object.keys(e).sort((r,o)=>e[r]-e[o]);return t.slice(0,t.indexOf(n))}function ce({theme:e,ownerState:s}){const{container:n,rowSpacing:t}=s;let r={};if(n&&t!==0){const o=w({values:t,breakpoints:e.breakpoints.values});let i;typeof o=="object"&&(i=_({breakpoints:e.breakpoints.values,values:o})),r=k({theme:e},o,(a,u)=>{var l;const c=e.spacing(a);return c!=="0px"?{marginTop:`-${x(c)}`,[`& > .${S.item}`]:{paddingTop:x(c)}}:(l=i)!=null&&l.includes(u)?{}:{marginTop:0,[`& > .${S.item}`]:{paddingTop:0}}})}return r}function ue({theme:e,ownerState:s}){const{container:n,columnSpacing:t}=s;let r={};if(n&&t!==0){const o=w({values:t,breakpoints:e.breakpoints.values});let i;typeof o=="object"&&(i=_({breakpoints:e.breakpoints.values,values:o})),r=k({theme:e},o,(a,u)=>{var l;const c=e.spacing(a);return c!=="0px"?{width:`calc(100% + ${x(c)})`,marginLeft:`-${x(c)}`,[`& > .${S.item}`]:{paddingLeft:x(c)}}:(l=i)!=null&&l.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${S.item}`]:{paddingLeft:0}}})}return r}function le(e,s,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const t=[];return s.forEach(r=>{const o=e[r];Number(o)>0&&t.push(n[`spacing-${r}-${String(o)}`])}),t}const pe=R("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:n}=e,{container:t,direction:r,item:o,spacing:i,wrap:a,zeroMinWidth:u,breakpoints:l}=n;let c=[];t&&(c=le(i,l,s));const d=[];return l.forEach(f=>{const m=n[f];m&&d.push(s[`grid-${f}-${String(m)}`])}),[s.root,t&&s.container,o&&s.item,u&&s.zeroMinWidth,...c,r!=="row"&&s[`direction-xs-${String(r)}`],a!=="wrap"&&s[`wrap-xs-${String(a)}`],...d]}})(({ownerState:e})=>g({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),ie,ce,ue,ae);function de(e,s){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return s.forEach(t=>{const r=e[t];if(Number(r)>0){const o=`spacing-${t}-${String(r)}`;n.push(o)}}),n}const fe=e=>{const{classes:s,container:n,direction:t,item:r,spacing:o,wrap:i,zeroMinWidth:a,breakpoints:u}=e;let l=[];n&&(l=de(o,u));const c=[];u.forEach(f=>{const m=e[f];m&&c.push(`grid-${f}-${String(m)}`)});const d={root:["root",n&&"container",r&&"item",a&&"zeroMinWidth",...l,t!=="row"&&`direction-xs-${String(t)}`,i!=="wrap"&&`wrap-xs-${String(i)}`,...c]};return V(d,se,s)},Se=p.forwardRef(function(s,n){const t=B({props:s,name:"MuiGrid"}),{breakpoints:r}=q(),o=Z(t),{className:i,columns:a,columnSpacing:u,component:l="div",container:c=!1,direction:d="row",item:f=!1,rowSpacing:m,spacing:$=0,wrap:D="wrap",zeroMinWidth:O=!1}=o,C=E(o,oe),T=m||$,A=u||$,F=p.useContext(W),y=c?a||12:F,U={},M=g({},C);r.keys.forEach(v=>{C[v]!=null&&(U[v]=C[v],delete M[v])});const G=g({},o,{columns:y,container:c,direction:d,item:f,rowSpacing:T,columnSpacing:A,wrap:D,zeroMinWidth:O,spacing:$},U,{breakpoints:r.keys}),I=fe(G);return b.jsx(W.Provider,{value:y,children:b.jsx(pe,g({ownerState:G,className:P(I.root,i),as:l,ref:n},M))})}),me=()=>{const[e,s]=p.useState(!1),[n,t]=p.useState([]),{enqueueSnackbar:r}=j(),{get:o}=L(),i=p.useCallback(async()=>{s(!0);try{const a=await o("/users",{...H});a.statusCode===200?t(a.data.users):r(a.error??a.message??"Unknown error",{variant:"error"})}catch(a){r(a.message,{variant:"error"})}finally{s(!1)}},[o,r]);return p.useEffect(()=>{i()},[o,r,i]),{users:n,isLoading:e,refetchUsers:i}},ve=e=>{const{isLoading:s,users:n,refetchUsers:t}=me(),r=p.useMemo(()=>J(n,"id"),[n]),o=p.useMemo(()=>r.get(e.toString()),[r,e]);return{isLoading:s,userDetail:o,onFetchUserDetail:t}},we=()=>{const[e,s]=p.useState(!1),{put:n}=L(),{enqueueSnackbar:t}=j();return{onUpdateUser:p.useCallback(async(o,i)=>{s(!0);try{const a=await n("/users",{id:o},i);a.statusCode===200?t("Cập nhật thành công",{variant:"success"}):t(a.error??a.message??"Unknown error",{variant:"error"})}catch(a){t(a.message,{variant:"error"})}finally{s(!1)}},[n,t]),isSubmitting:e}};export{he as C,Se as G,we as a,ve as b,me as u};
