import{p as k,r as p,u as C,j as e,D as y,T as l,B as x,H as D}from"./index-q_5Tqw1q.js";import{C as F}from"./config-global-ClKwKbZP.js";import{u as L}from"./index.esm-DVunts-Q.js";import{c as S,d as I}from"./use-team-D5xhiK3a.js";import{p as G,h as N}from"./object-util-B_4fPfHZ.js";import{C as P,G as r}from"./Grid-CdEE13BC.js";import{T as g}from"./TextField-DUkHxIjn.js";import{L as v}from"./LoadingButton-CrnBcsNN.js";import"./use-api-DWFDTJE-.js";import"./map-util-BcGf2YPr.js";function w(){const a=k(),n=p.useMemo(()=>parseInt((a==null?void 0:a.id)??"0",10),[a]),{enqueueSnackbar:o}=C(),{handleSubmit:j,register:m,formState:c,reset:d}=L(),{isLoading:s,teamDetail:t,onFetchTeamDetail:u}=S(n),{onUpdateTeam:h}=I(),f=p.useCallback(async i=>{const b=G(i,["name"]);if(N(b)){o("Tên không được để trống",{variant:"warning"});return}const T={name:i.name??"",hotline:i.hotline};await h(n,T),u(),d()},[o,h,u,d,n]);return e.jsxs(y,{children:[s&&e.jsx(l,{children:"...loading"}),!s&&!t&&e.jsx(l,{color:"red",children:"Không có thông tin!"}),!s&&t&&e.jsxs(e.Fragment,{children:[e.jsx(x,{display:"flex",alignItems:"center",mb:5,children:e.jsx(l,{variant:"h4",flexGrow:1,children:t.name})}),e.jsx(P,{children:e.jsxs(x,{p:{xs:2,sm:4},children:[e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:12,md:4,xl:3,children:e.jsx(g,{...m("name"),defaultValue:t.name,required:!0,label:"Tên phòng ban",placeholder:"Nhập tên",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})}),e.jsx(r,{item:!0,xs:12,md:4,xl:3,children:e.jsx(g,{...m("hotline"),defaultValue:t.hotline,label:"Hotline",placeholder:"Nhập hotline",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})})]}),e.jsx(r,{container:!0,spacing:2,mt:{xs:1,md:2},children:e.jsx(r,{item:!0,xs:12,md:4,xl:3,children:e.jsx(v,{onClick:j(f),disabled:!c.isDirty,loading:c.isSubmitting,fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",children:"Lưu"})})})]})})]})," "]})}function M(){return e.jsxs(e.Fragment,{children:[e.jsx(D,{children:e.jsxs("title",{children:[" ",`Chi tiết phòng ban - ${F.appName}`]})}),e.jsx(w,{})]})}export{M as default};
