import{r as t,u as i}from"./index-CiyAc5l9.js";import{a as p}from"./Grid-DiL9jkRp.js";import{u as l}from"./use-api-CDdvI0gq.js";const U={size:100,page:0},f=()=>{const[c,a]=t.useState(!1),[n,s]=t.useState([]),{enqueueSnackbar:r}=i(),{get:o}=l(),u=t.useCallback(async()=>{a(!0);try{const e=await o("/users",{...U});e.statusCode===200?s(e.data.users):r(e.error??e.message??"Unknown error",{variant:"error"})}catch(e){r(e.message,{variant:"error"})}finally{a(!1)}},[o,r]);return t.useEffect(()=>{u()},[o,r,u]),{users:n,isLoading:c,refetchUsers:u}},S=c=>{const{isLoading:a,users:n,refetchUsers:s}=f(),r=t.useMemo(()=>p(n,"id"),[n]),o=t.useMemo(()=>r.get(c.toString()),[r,c]);return{isLoading:a,userDetail:o,onFetchUserDetail:s}},b=()=>{const[c,a]=t.useState(!1),{put:n}=l(),{enqueueSnackbar:s}=i();return{onUpdateUser:t.useCallback(async(o,u)=>{a(!0);try{const e=await n("/users",{id:o},u);e.statusCode===200?s("Cập nhật thành công",{variant:"success"}):s(e.error??e.message??"Unknown error",{variant:"error"})}catch(e){s(e.message,{variant:"error"})}finally{a(!1)}},[n,s]),isSubmitting:c}};export{b as a,S as b,f as u};
