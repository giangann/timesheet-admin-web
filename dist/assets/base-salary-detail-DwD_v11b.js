import{p as D,r as h,u as v,w as x,j as e,D as C,T as c,B as p,t as f,X as S,H as B}from"./index-q_5Tqw1q.js";import{C as F}from"./config-global-ClKwKbZP.js";import{u as k,C as w}from"./index.esm-DVunts-Q.js";import{c as I,d as L}from"./useBaseSalary-jFXjKxyQ.js";import{h as M}from"./object-util-B_4fPfHZ.js";import{d as P}from"./format-field-values-D8fEPtxi.js";import{C as G,G as s}from"./Grid-CdEE13BC.js";import{D as N}from"./DatePicker-D5q1almQ.js";import{T}from"./TextField-DUkHxIjn.js";import{L as V}from"./LoadingButton-CrnBcsNN.js";import"./use-api-DWFDTJE-.js";import"./colorManipulator-ChlBrSf2.js";import"./InputAdornment-CtwGFzN6.js";import"./dialogTitleClasses-B08oaWpB.js";function Y(){const n=D(),l=h.useMemo(()=>parseInt((n==null?void 0:n.id)??"0",10),[n]),{enqueueSnackbar:m}=v(),{register:g,handleSubmit:j,formState:i,control:y}=k(),{onUpdateBaseSalary:d}=I(),{baseSalaryDetail:t,isLoading:o,onFetchBaseSalaryDetail:u}=L(l),b=h.useCallback(async a=>{const r=P(i.dirtyFields,a);if(r.effectiveDate&&(r.effectiveDate=x(r.effectiveDate,S.paramCase.date)??""),M(r)){m("Hãy điền đủ thông tin yêu cầu",{variant:"warning"});return}await d(l,r),u()},[d,l,u,i,m]);return e.jsxs(C,{children:[o&&e.jsx(c,{children:"...loading"}),!o&&!t&&e.jsx(c,{color:"red",children:"Không có thông tin!"}),!o&&t&&e.jsxs(e.Fragment,{children:[e.jsx(p,{display:"flex",alignItems:"center",mb:5,children:e.jsxs(c,{variant:"h4",flexGrow:1,children:["Mức lương cơ bản từ ",x(new Date(t.effectiveDate),"DD/MM/YYYY")]})}),e.jsx(G,{children:e.jsxs(p,{p:{xs:2,sm:4},children:[e.jsxs(s,{container:!0,children:[e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(w,{name:"effectiveDate",control:y,defaultValue:f(t.effectiveDate),render:({field:a})=>e.jsx(N,{label:"Chọn ngày *",value:f(a.value),onChange:r=>{a.onChange(r)},slotProps:{textField:{onBlur:a.onBlur,name:a.name,inputRef:a.ref}}})})}),e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(T,{...g("value"),defaultValue:t==null?void 0:t.value,type:"number",required:!0,label:"Mức lương cơ bản",placeholder:"Nhập mức lương cơ bản",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:3}})})]}),e.jsx(s,{container:!0,spacing:2,mt:{xs:1,md:2},children:e.jsx(s,{item:!0,xs:12,md:4,xl:3,children:e.jsx(V,{onClick:j(b),disabled:!i.isDirty,loading:i.isSubmitting,fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",children:"Lưu"})})})]})})]})]})}function Z(){return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsxs("title",{children:[" ",`Chi tiết mức lương cơ bản - ${F.appName}`]})}),e.jsx(Y,{})]})}export{Z as default};
